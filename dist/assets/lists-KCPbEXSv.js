import{a2 as h,a3 as p}from"./index-DH73XLWJ.js";import{u}from"./user-DvChFS7E.js";var c="/mockapi";const l=(t,s=1e4)=>{let a=h.create({baseURL:t,timeout:s,maxContentLength:52428800,maxBodyLength:52428800});return a.interceptors.request.use(e=>{var o,n;var r=u(p).currentUser.token;return((o=e.headers)==null?void 0:o.alwaysAdminAuth)==="true"&&(e.headers.Authorization="ad92c560a25d4bb0be62316b6645d6d5"),((n=e.headers)==null?void 0:n.explicitlyNoAuth)!=="true"&&r&&(e.headers.Authorization=r),e.headers.showLoading,e},e=>Promise.resolve(e)),a.interceptors.response.use(e=>(e.config.headers.showLoading,e.data),async e=>{var r,o,n,d;return console.log("err",e),(o=(r=e.config)==null?void 0:r.headers)==null||o.showLoading,((n=e.response)==null?void 0:n.status)==400?Promise.reject(e.response.data):((d=e.response)==null?void 0:d.status)==500?Promise.reject("服务器错误"):Promise.reject(e.response.data)}),a},i=l(c),f=(t="unassigned",s=1,a=100)=>i({url:"orders/",headers:{"Content-Type":"application/json",showLoading:!1},method:"get",params:{type:t,page:s,pageSize:a}}),L=(t=1,s=100)=>i({url:"robots/",headers:{"Content-Type":"application/json",showLoading:!1},method:"get",params:{page:t,pageSize:s}}),b=(t=1,s=10)=>i({url:"stations/",headers:{"Content-Type":"application/json",showLoading:!1},method:"get",params:{page:t,pageSize:s}});export{L as a,b,f as g,i as h};
